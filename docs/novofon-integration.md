# üìû –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Novofon

## –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ Webhook URL

**–í–∞—à webhook URL –¥–ª—è Novofon:**
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/webhooks/novofon
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** Webhook –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø—É–±–ª–∏—á–Ω–æ (–Ω–µ localhost –±–µ–∑ —Ç—É–Ω–Ω–µ–ª—è)

---

### üîß –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (localhost)

‚ö†Ô∏è **–í–ê–ñ–ù–û:** Novofon –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ `localhost` –Ω–∞–ø—Ä—è–º—É—é!

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ç—É–Ω–Ω–µ–ª–µ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: ngrok (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (—á–µ—Ä–µ–∑ Chocolatey)
choco install ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com/download

# –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è –Ω–∞ –ø–æ—Ä—Ç 3000
ngrok http 3000
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ URL —Ç–∏–ø–∞: `https://abc123.ngrok.io`

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ Novofon:
```
https://abc123.ngrok.io/api/webhooks/novofon
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: localtunnel
```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install -g localtunnel

# –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è
lt --port 3000 --subdomain mycrm
```

URL: `https://mycrm.loca.lt/api/webhooks/novofon`

#### –í–∞—Ä–∏–∞–Ω—Ç 3: Visual Studio Code Tunnels (Dev Tunnels)
```powershell
# –í—Å—Ç—Ä–æ–µ–Ω–æ –≤ VS Code
# Ports ‚Üí Forward Port ‚Üí Make Public
```

üí° **–°–æ–≤–µ—Ç:** –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL, –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –≤ Novofon –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Ç—É–Ω–Ω–µ–ª—è (ngrok –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ URL –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)

---

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Novofon

### 2.1 –í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [my.novofon.ru](https://my.novofon.ru)
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —Å–≤–æ–∏–º –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º

### 2.2 –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏
1. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ê–¢–°"**
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–≤–æ–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"**
4. –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á API"** (–∫–∞–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –≤—ã—à–µ)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Key** (–ö–ª—é—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) - –Ω–∞–ø—Ä–∏–º–µ—Ä: `appid_1834174`
   - **Secret** (–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á) - —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
6. –≠—Ç–∏ –∫–ª—é—á–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –∑–≤–æ–Ω–∫–æ–≤ —á–µ—Ä–µ–∑ API

### 2.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhooks (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

‚ö†Ô∏è **–í–ê–ñ–ù–û**: Webhooks –≤ Novofon –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **–æ–±—Ä–∞—â–µ–Ω–∏–µ –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É** –∏–ª–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≤–∞—à–µ–º —Ç–∞—Ä–∏—Ñ–µ).

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É (–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –†–ê–ë–û–ß–ò–ô –°–ü–û–°–û–ë)
1. –ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Novofon: 
   - **Email**: support@novofon.com
   - **–û–Ω–ª–∞–π–Ω-—á–∞—Ç**: –Ω–∞ —Å–∞–π—Ç–µ novofon.com
   - **–¢–µ–ª–µ—Ñ–æ–Ω**: +7 495 127-0-777

2. –£–∫–∞–∂–∏—Ç–µ –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏:
   ```
   –¢–µ–º–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhooks –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–≤–æ–Ω–∫–∞—Ö
   
   –î–æ–±—Ä—ã–π –¥–µ–Ω—å!
   
   –ü—Ä–æ—à—É –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–≤–æ–Ω–∫–∞—Ö:
   
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –ê–¢–°: 100 (—É–∫–∞–∂–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä)
   - Webhook URL: https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/webhooks/novofon?user_id=–í–ê–®_USER_ID
   - ## –°–æ–±—ã—Ç–∏—è Webhooks

–ùovofon –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è webhooks:

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:

#### NOTIFY_START
–ù–∞—á–∞–ª–æ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ –≤ –ê–¢–°
- `event` - NOTIFY_START
- `call_start` - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∑–≤–æ–Ω–∫–∞
- `pbx_call_id` - ID –∑–≤–æ–Ω–∫–∞
- `caller_id` - –Ω–æ–º–µ—Ä –∑–≤–æ–Ω—è—â–µ–≥–æ
- `called_did` - –Ω–æ–º–µ—Ä –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–Ω–∏–ª–∏

#### NOTIFY_END ‚≠ê (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM)
–ö–æ–Ω–µ—Ü –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
- `event` - NOTIFY_END
- `call_start` - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- `pbx_call_id` - ID –∑–≤–æ–Ω–∫–∞
- `caller_id` - –Ω–æ–º–µ—Ä –∑–≤–æ–Ω—è—â–µ–≥–æ
- `called_did` - –Ω–æ–º–µ—Ä –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–Ω–∏–ª–∏
- `internal` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä
- `duration` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `disposition` - —Å—Ç–∞—Ç—É—Å (answered, busy, cancel, no answer, failed)
- `last_internal` - –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—á–∞—Å—Ç–Ω–∏–∫ –∑–≤–æ–Ω–∫–∞
- `status_code` - –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ Q.931
- `is_recorded` - 1 –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å, 0 –µ—Å–ª–∏ –Ω–µ—Ç
- `call_id_with_rec` - ID –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏

#### NOTIFY_RECORD
–ó–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- `event` - NOTIFY_RECORD
- `call_id_with_rec` - ID –∑–≤–æ–Ω–∫–∞ —Å –∑–∞–ø–∏—Å—å—é
- `pbx_call_id` - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π ID –∑–≤–æ–Ω–∫–∞

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:

- **NOTIFY_INTERNAL** - –∑–≤–æ–Ω–æ–∫ –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –ê–¢–°
- **NOTIFY_ANSWER** - –æ—Ç–≤–µ—Ç –ø—Ä–∏ –∑–≤–æ–Ω–∫–µ
- **NOTIFY_OUT_START** - –Ω–∞—á–∞–ª–æ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ (—Å–º. –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∏–∂–µ)
- **NOTIFY_OUT_END** - –∫–æ–Ω–µ—Ü –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ (—Å–º. –ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∏–∂–µ)

#### NOTIFY_OUT_END ‚≠ê (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ CRM)
–ö–æ–Ω–µ—Ü –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ —Å –ê–¢–°
- `event` - NOTIFY_OUT_END
- `call_start` - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- `pbx_call_id` - ID –∑–≤–æ–Ω–∫–∞
- `caller_id` - –≤–∞—à –Ω–æ–º–µ—Ä (CallerID)
- `destination` - –Ω–æ–º–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞ (–∫—É–¥–∞ –∑–≤–æ–Ω–∏–ª–∏)
- `internal` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- `duration` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `disposition` - —Å—Ç–∞—Ç—É—Å (answered, busy, cancel, no answer, failed)
- `status_code` - –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ Q.931
- `is_recorded` - 1 –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å, 0 –µ—Å–ª–∏ –Ω–µ—Ç
- `call_id_with_rec` - ID –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏

#### NOTIFY_OUT_START (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ù–∞—á–∞–ª–æ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ —Å –ê–¢–°
- `event` - NOTIFY_OUT_START
- `call_start` - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- `pbx_call_id` - ID –∑–≤–æ–Ω–∫–∞
- `destination` - –Ω–æ–º–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞
- `caller_id` - –≤–∞—à –Ω–æ–º–µ—Ä
- `internal` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä

### –ö–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è CRM?

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –í–°–ï –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —Å—Ä–∞–∑—É:**

‚úÖ **NOTIFY_END** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
  - –°–æ–∑–¥–∞—ë—Ç —Å–¥–µ–ª–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –§–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∏
  - –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏

‚úÖ **NOTIFY_OUT_END** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
  - –°–≤—è–∑—ã–≤–∞–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏ —Å–æ —Å–¥–µ–ª–∫–∞–º–∏ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
  - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º
  - –í–∞–∂–Ω–æ –¥–ª—è —Å–¥–µ–ª–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å–∞–π—Ç/email

‚úÖ **NOTIFY_RECORD** - –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–∞ –≥–æ—Ç–æ–≤–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ AI
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º

‚úÖ **NOTIFY_START** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–∞—á–∞–ª–æ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞
  - –ù–µ —Å–æ–∑–¥–∞—ë—Ç —Å–¥–µ–ª–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è)

‚úÖ **NOTIFY_OUT_START** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–∞—á–∞–ª–æ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–∏—Ö –∑–≤–æ–Ω–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ü–æ—á–µ–º—É –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å—Ä–∞–∑—É?**
- –ù–µ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ CRM –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –ü—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

‚ö†Ô∏è **–í–ê–ñ–ù–û –¥–ª—è –ø–∏—Å—å–º–∞ –≤ Novofon:** –£–∫–∞–∂–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è: `NOTIFY_END, NOTIFY_OUT_END, NOTIFY_RECORD, NOTIFY_START, NOTIFY_OUT_START`: NOTIFY_END, NOTIFY_RECORD
   - –§–æ—Ä–º–∞—Ç: JSON POST
   
   Key –¥–ª—è API: appid_1834174 (—É–∫–∞–∂–∏—Ç–µ –≤–∞—à Key)
   
   –°–ø–∞—Å–∏–±–æ!
   ```

3. –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–∏—Ç webhooks –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
4. –í–∞–º –ø—Ä–∏–¥—ë—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ email

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –Ω–æ–º–µ—Ä–∞ –ê–¢–° –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É!

**–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ CRM:**
```
–ó–∞–ø—Ä–æ—Å 1 (–ú–æ—Å–∫–≤–∞):
- –ù–æ–º–µ—Ä: 100
- URL: https://moscow.crm.com/api/webhooks/novofon
- –°–æ–±—ã—Ç–∏—è: NOTIFY_END, NOTIFY_RECORD, NOTIFY_START

–ó–∞–ø—Ä–æ—Å 2 (–°–ü–±):
- –ù–æ–º–µ—Ä: 101  
- URL: https://spb.crm.com/api/webhooks/novofon
- –°–æ–±—ã—Ç–∏—è: NOTIFY_END, NOTIFY_RECORD, NOTIFY_START

–ó–∞–ø—Ä–æ—Å 3 (–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥):
- –ù–æ–º–µ—Ä: 102
- URL: https://ekb.crm.com/api/webhooks/novofon
- –°–æ–±—ã—Ç–∏—è: NOTIFY_END, NOTIFY_RECORD, NOTIFY_START
```

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞—Ä–∏—Ñ—ã –∏–º–µ—é—Ç —Ä–∞–∑–¥–µ–ª –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. –ó–∞–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç my.novofon.ru
2. –ü–æ–∏—â–∏—Ç–µ —Ä–∞–∑–¥–µ–ª—ã: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" –∏–ª–∏ "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏" –∏–ª–∏ "Webhooks"
3. –ï—Å–ª–∏ —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –Ω–µ—Ç - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –°–ø–æ—Å–æ–± 1 (—Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞)

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –∑–≤–æ–Ω–∫–æ–≤

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ë–µ–∑ –∑–∞–ø–∏—Å–∏ –∑–≤–æ–Ω–∫–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è!

### 3.1 –í–∫–ª—é—á–∏—Ç–µ –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤
1. –í Novofon ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ó–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤
2. –í–∫–ª—é—á–∏—Ç–µ **"–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –∑–≤–æ–Ω–∫–∏"**
3. –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –Ω–æ–º–µ—Ä–∞–º

### 3.2 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–ø–∏—Å—è–º
**–£–∂–µ —Å–¥–µ–ª–∞–ª–∏ –Ω–∞ —à–∞–≥–µ 2.2!** 
- API –∫–ª—é—á–∏ (Key –∏ Secret) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ê–¢–°" ‚Üí –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" ‚Üí "API"
- CRM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –∫–ª—é—á–∏ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `/v1/pbx/record/request/`

### 3.3 –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–ø–∏—Å–∏
Novofon –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ webhook `NOTIFY_END` —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:
- `caller_id` - –Ω–æ–º–µ—Ä –∑–≤–æ–Ω—è—â–µ–≥–æ
- `duration` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö  
- `is_recorded` - 1 –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å, 0 –µ—Å–ª–∏ –Ω–µ—Ç
- `call_id_with_rec` - ID –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ API
- `pbx_call_id` - –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π ID –∑–≤–æ–Ω–∫–∞

---

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4.1 –°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫
1. –ü–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä Novofon
2. –ü–æ–≥–æ–≤–æ—Ä–∏—Ç–µ –º–∏–Ω–∏–º—É–º 10-15 —Å–µ–∫—É–Ω–¥
3. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –∑–≤–æ–Ω–æ–∫

### 4.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ
–ß–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥ –≤ CRM –¥–æ–ª–∂–Ω–æ:
1. ‚úÖ –ü–æ—è–≤–∏—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω –∑–≤—É–∫)
2. ‚úÖ –í –∫–æ–ª–æ–Ω–∫–µ "–ù–æ–≤—ã–µ" —Å–æ–∑–¥–∞—Ç—å—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–¥–µ–ª–∫–∏
3. ‚úÖ –í –∫–∞—Ä—Ç–æ—á–∫–µ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω
4. ‚úÖ –í –ø—Ä–∏–º–µ—á–∞–Ω–∏—è—Ö - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–∞

### 4.3 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å–¥–µ–ª–∫—É
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ó–≤–æ–Ω–∫–∏"
3. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π "–ü—Ä–æ—Å–ª—É—à–∞—Ç—å"
4. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ AI —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è - —É–≤–∏–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

---

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 5.1 –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é
1. –í CRM ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí AI
2. –í–∫–ª—é—á–∏—Ç–µ **"–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∑–≤–æ–Ω–∫–æ–≤"**
3. AI –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏

### 5.2 –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
–ü–æ—Å–ª–µ –∑–≤–æ–Ω–∫–∞ AI:
1. üéôÔ∏è –°–∫–∞—á–∏–≤–∞–µ—Ç –∑–∞–ø–∏—Å—å —Å Novofon
2. üìù –†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Whisper
3. ü§ñ –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–∏–º—è, –∞–¥—Ä–µ—Å, –¥–∞—Ç–∞)
4. ‚úçÔ∏è –ó–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è —Å–¥–µ–ª–∫–∏
5. üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: Webhook –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å?
**A:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. Webhooks –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —á–µ—Ä–µ–∑ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É Novofon –∏–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
2. URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ localhost)
3. –í –ª–æ–≥–∞—Ö –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Ö–æ–¥—è—â–∏–µ POST –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Novofon
4. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Novofon –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ webhook

### Q: –ì–¥–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks –≤ Novofon?
**A:** 
- –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Novofon –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –¥–ª—è webhooks
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É: support@novofon.com –∏–ª–∏ –æ–Ω–ª–∞–π–Ω-—á–∞—Ç
- –£–∫–∞–∂–∏—Ç–µ –≤–∞—à webhook URL –∏ —Å–æ–±—ã—Ç–∏—è (NOTIFY_END, NOTIFY_RECORD)
- –û–Ω–∏ –Ω–∞—Å—Ç—Ä–æ—è—Ç —ç—Ç–æ –Ω–∞ —Å–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ

### Q: –°–æ–∑–¥–∞—é—Ç—Å—è –¥—É–±–ª–∏ –∑–∞—è–≤–æ–∫?
**A:** 
- CRM –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NOTIFY_START —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–¥–µ–ª–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ NOTIFY_END
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–æ–ª—å–∫–æ —É –æ–¥–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –Ω–æ–º–µ—Ä–∞ –ê–¢–°

### Q: –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç –∑–∞—è–≤–∫–∏?
**A:**
- –ù–∞—á–∏–Ω–∞—è —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏, –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç —Å–¥–µ–ª–∫–∏**
- –í –ø—Ä–∏–º–µ—á–∞–Ω–∏—è—Ö –±—É–¥–µ—Ç –º–µ—Ç–∫–∞ üî¥ –ü–†–û–ü–£–©–ï–ù–ù–´–ô –ó–í–û–ù–û–ö
- –°—Ç–∞—Ç—É—Å –∑–≤–æ–Ω–∫–∞: "–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–π –∑–≤–æ–Ω–æ–∫ (–Ω–µ –æ—Ç–≤–µ—Ç–∏–ª–∏)", "–û—Ç–º–µ–Ω—ë–Ω –∑–≤–æ–Ω—è—â–∏–º" –∏–ª–∏ "–ó–∞–Ω—è—Ç–æ"

### Q: –ù–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–∞?
**A:** 
1. –í–∫–ª—é—á–∏—Ç–µ –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤: "–ê–¢–°" ‚Üí "–ó–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤" ‚Üí "–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –∑–≤–æ–Ω–∫–∏"
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–µ `is_recorded = 1`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" ‚Üí "API"

### Q: –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
**A:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–∞ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ‚Üí AI
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å API –∫–ª—é—á OpenRouter
3. –ó–∞–ø–∏—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 3 —Å–µ–∫—É–Ω–¥
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å OpenRouter

### Q: –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ CRM –ø–æ–¥ –æ–¥–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º Novofon?
**A:** 
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É Novofon —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–µ—Ä–∞
- –ö–∞–∂–¥—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –ê–¢–° = —Å–≤–æ–π webhook URL = —Å–≤–æ—è CRM
- –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
  ```
  –ù–æ–º–µ—Ä 100 ‚Üí https://moscow.crm.com/api/webhooks/novofon?user_id=USER_1
  –ù–æ–º–µ—Ä 101 ‚Üí https://spb.crm.com/api/webhooks/novofon?user_id=USER_2
  –ù–æ–º–µ—Ä 102 ‚Üí https://ekb.crm.com/api/webhooks/novofon?user_id=USER_3
  ```

### Q: –ì–¥–µ –≤–∑—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –ê–¢–°?
**A:** 
- –ó–∞–π–¥–∏—Ç–µ –≤ Novofon ‚Üí –ê–¢–° ‚Üí –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–æ–º–µ—Ä–∞
- –ò–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç–µ —É —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤
- –û–±—ã—á–Ω–æ —ç—Ç–æ —Ç—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞: 100, 101, 102...

### Q: –ú–æ–∂–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ API?
**A:**
- –ù–µ—Ç, –ø—É–±–ª–∏—á–Ω–æ–µ API Novofon –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhooks
- Webhooks –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É –∏–ª–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –õ–ö (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

---

## üîß Troubleshooting

### –ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ –≥–¥–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks
- –í —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Novofon –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å UI –¥–ª—è webhooks
- **–†–µ—à–µ–Ω–∏–µ**: –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É (support@novofon.com –∏–ª–∏ –æ–Ω–ª–∞–π–Ω-—á–∞—Ç)
- –û–Ω–∏ –Ω–∞—Å—Ç—Ä–æ—è—Ç webhook –Ω–∞ —Å–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –∑–∞ 1-2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è

### Webhook –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç Novofon
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–Ω–µ localhost –±–µ–∑ —Ç—É–Ω–Ω–µ–ª—è)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### CRM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 401 (Unauthorized)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å webhook endpoint
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Novofon –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### CRM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 500 (Internal Server Error)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ CRM —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–æ–ª–æ–Ω–∫–∞ "–ù–æ–≤—ã–µ"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ CRM –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞

### –ó–≤–æ–Ω–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ –±–µ–∑ –∑–∞–ø–∏—Å–∏
- –í–∫–ª—é—á–∏—Ç–µ –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤: "–ê–¢–°" ‚Üí "–ó–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤" ‚Üí "–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –∑–≤–æ–Ω–∫–∏"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ–ª–µ `is_recorded` –≤ webhook = 1
- –î–æ–±–∞–≤—å—Ç–µ —Å–æ–±—ã—Ç–∏–µ `NOTIFY_RECORD` –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –ü–æ–ª—É—á–∏–ª webhook URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/webhooks/novofon`
- [ ] –£–∑–Ω–∞–ª —Å–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –ê–¢–° (–Ω–∞–ø—Ä–∏–º–µ—Ä: 100, 101, 102)
- [ ] –ó–∞—à—ë–ª –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç my.novofon.ru
- [ ] –û—Ç–∫—Ä—ã–ª "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ê–¢–°" ‚Üí –º–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" ‚Üí "API"
- [ ] –í–∫–ª—é—á–∏–ª –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á API"
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª Key (appid_xxx) –∏ Secret
- [ ] **–ù–∞–ø–∏—Å–∞–ª –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É Novofon** —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É webhook:
  - Email: support@novofon.com –∏–ª–∏ –æ–Ω–ª–∞–π–Ω-—á–∞—Ç
  - –£–∫–∞–∑–∞–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –ê–¢–°
  - –£–∫–∞–∑–∞–ª webhook URL
  - –ó–∞–ø—Ä–æ—Å–∏–ª —Å–æ–±—ã—Ç–∏—è: **NOTIFY_END, NOTIFY_OUT_END, NOTIFY_RECORD, NOTIFY_START, NOTIFY_OUT_START**
- [ ] –î–æ–∂–¥–∞–ª—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏ (1-2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è)
- [ ] –í–∫–ª—é—á–∏–ª –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤: "–ê–¢–°" ‚Üí "–ó–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤" ‚Üí "–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –∑–≤–æ–Ω–∫–∏"
- [ ] –°–¥–µ–ª–∞–ª —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —Å–¥–µ–ª–∫–∞ —Å–æ–∑–¥–∞–ª–∞—Å—å –≤ CRM
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª AI —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –≤ CRM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Novofon API](https://novofon.com/instructions/api/)
- [–ü—Ä–∏–º–µ—Ä—ã webhook payload](https://novofon.com/instructions/api/webhooks/)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∏ OpenRouter AI](https://openrouter.ai)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Whisper](https://platform.openai.com/docs/guides/speech-to-text)

---

**–ì–æ—Ç–æ–≤–æ! üéâ**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –≤ CRM!
