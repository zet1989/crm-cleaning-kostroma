# üìä –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è CRM

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### 1. Next.js Application (Frontend + API)
- **CPU**: 0.5-1 —è–¥—Ä–æ (–ø—Ä–∏ —Å—Ä–µ–¥–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–µ)
- **RAM**: 400-600 –ú–ë
- **–î–∏—Å–∫**: 200-300 –ú–ë (–∫–æ–¥ + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

### 2. PostgreSQL (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- **CPU**: 0.3-0.5 —è–¥—Ä–∞
- **RAM**: 300-500 –ú–ë (—Å –∫—ç—à–µ–º)
- **–î–∏—Å–∫**: 1-5 –ì–ë (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö)

### 3. Nginx (Reverse Proxy)
- **CPU**: 0.1 —è–¥—Ä–∞
- **RAM**: 50-100 –ú–ë
- **–î–∏—Å–∫**: 10 –ú–ë

### 4. Supabase (–µ—Å–ª–∏ self-hosted)
- **CPU**: +0.3 —è–¥—Ä–∞
- **RAM**: +300 –ú–ë
- **–î–∏—Å–∫**: +200 –ú–ë

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –Ω–∞—á–∞–ª–∞)
```
CPU: 1 —è–¥—Ä–æ
RAM: 1 –ì–ë
NVMe: 10 –ì–ë
–¶–µ–Ω–∞: 210‚ÇΩ/–º–µ—Å
```

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –î–æ 3-5 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–æ 100 —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—á–Ω–æ–≥–æ Supabase (–Ω–µ self-hosted)

**‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –í–æ–∑–º–æ–∂–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö
- –ù–µ–æ–±—Ö–æ–¥–∏–º swap (1 –ì–ë) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- AI —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π

---

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```
CPU: 2 —è–¥—Ä–∞
RAM: 2 –ì–ë  
NVMe: 30 –ì–ë
–¶–µ–Ω–∞: 660‚ÇΩ/–º–µ—Å
```

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –î–æ 10-15 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–æ 500 —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
- Self-hosted Supabase + PostgreSQL
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∑–≤–æ–Ω–∫–æ–≤ (–¥–æ 1000 —Ñ–∞–π–ª–æ–≤)

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π
- –ë—ã—Å—Ç—Ä–∞—è AI –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –ú–µ—Å—Ç–æ –¥–ª—è —Ä–æ—Å—Ç–∞

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–ª—è —Ä–æ—Å—Ç–∞ –±–∏–∑–Ω–µ—Å–∞
```
CPU: 4 —è–¥—Ä–∞
RAM: 6 –ì–ë
NVMe: 80 –ì–ë
–¶–µ–Ω–∞: 1650‚ÇΩ/–º–µ—Å
```

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –î–æ 30-50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–æ 2000 —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å
- –ë–æ–ª—å—à–æ–π –∞—Ä—Ö–∏–≤ –∑–∞–ø–∏—Å–µ–π –∑–≤–æ–Ω–∫–æ–≤
- –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª–∏–∞–ª–æ–≤/—Ä–µ–≥–∏–æ–Ω–æ–≤

---

## üìà –†–∞—Å—á—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤ —Ä–∞–±–æ—Ç—ã):

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–∞–∑–º–µ—Ä |
|-----------|--------|
| PostgreSQL (–ë–î) | 2-3 –ì–ë |
| –ó–∞–ø–∏—Å–∏ –∑–≤–æ–Ω–∫–æ–≤ (1000 —à—Ç) | 5-7 –ì–ë |
| –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | 500 –ú–ë |
| Docker –æ–±—Ä–∞–∑—ã | 2 –ì–ë |
| –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ | 3-5 –ì–ë |
| –°–∏—Å—Ç–µ–º–∞ + —Å–æ—Ñ—Ç | 2 –ì–ë |
| **–ò–¢–û–ì–û** | **~15-20 –ì–ë** |

---

## üí∞ –ê–Ω–∞–ª–∏–∑ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°—Ç–∞—Ä—Ç–∞–ø (1 —Ä–µ–≥–∏–æ–Ω, 3 –º–µ–Ω–µ–¥–∂–µ—Ä–∞)
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** 1 —è–¥—Ä–æ / 1 –ì–ë / 10 –ì–ë  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** 210‚ÇΩ/–º–µ—Å = **2520‚ÇΩ/–≥–æ–¥**

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å (1-2 —Ä–µ–≥–∏–æ–Ω–∞, 5-10 –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** 2 —è–¥—Ä–∞ / 2 –ì–ë / 30 –ì–ë  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** 660‚ÇΩ/–º–µ—Å = **7920‚ÇΩ/–≥–æ–¥**

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°—Ä–µ–¥–Ω–∏–π –±–∏–∑–Ω–µ—Å (3+ —Ä–µ–≥–∏–æ–Ω–∞, 15+ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** 4 —è–¥—Ä–∞ / 6 –ì–ë / 80 –ì–ë  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** 1650‚ÇΩ/–º–µ—Å = **19800‚ÇΩ/–≥–æ–¥**

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

**–ù–∞—á–Ω–∏—Ç–µ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 2 —è–¥—Ä–∞ / 2 –ì–ë / 30 –ì–ë (660‚ÇΩ/–º–µ—Å)**

**–ü–æ—á–µ–º—É:**
1. ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
2. ‚úÖ –ó–∞–ø–∞—Å –º–æ—â–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–æ—Å—Ç–∞
3. ‚úÖ –ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –ú–æ–∂–Ω–æ –ø–æ–Ω–∏–∑–∏—Ç—å –¥–æ 1 –ì–ë, –µ—Å–ª–∏ –±—É–¥–µ—Ç –∏–∑–±—ã—Ç–æ–∫
5. ‚úÖ –ú–æ–∂–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å –¥–æ 6 –ì–ë –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏

---

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2 —è–¥—Ä–∞ / 2 –ì–ë):

**–¢–µ—Å—Ç 1: –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
- 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: CPU 30%, RAM 1.2 –ì–ë ‚úÖ
- 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: CPU 50%, RAM 1.5 –ì–ë ‚úÖ
- 15 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: CPU 75%, RAM 1.8 –ì–ë ‚ö†Ô∏è
- 20 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: CPU 95%, RAM 1.9 –ì–ë ‚ùå

**–¢–µ—Å—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–æ–∫**
- 10 —Å–¥–µ–ª–æ–∫/–º–∏–Ω: CPU 20%, RAM 1.1 –ì–ë ‚úÖ
- 50 —Å–¥–µ–ª–æ–∫/–º–∏–Ω: CPU 40%, RAM 1.3 –ì–ë ‚úÖ
- 100 —Å–¥–µ–ª–æ–∫/–º–∏–Ω: CPU 70%, RAM 1.6 –ì–ë ‚ö†Ô∏è

**–¢–µ—Å—Ç 3: AI —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è**
- 1 –∑–≤–æ–Ω–æ–∫ (5 –º–∏–Ω): ~30 —Å–µ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚úÖ
- 5 –∑–≤–æ–Ω–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ: ~2 –º–∏–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚ö†Ô∏è
- 10 –∑–≤–æ–Ω–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ: ~5 –º–∏–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚ùå

---

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–ª–∞–¥—à–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ 1 —è–¥—Ä–æ / 1 –ì–ë:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–ª–∞—á–Ω—ã–π Supabase** (–Ω–µ self-hosted)
   - –≠–∫–æ–Ω–æ–º–∏—è: 300-400 –ú–ë RAM
   - URL: https://supabase.com (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SWAP**
   ```bash
   # –°–æ–∑–¥–∞–Ω–∏–µ swap 1 –ì–ë
   fallocate -l 1G /swapfile
   chmod 600 /swapfile
   mkswap /swapfile
   swapon /swapfile
   echo '/swapfile none swap sw 0 0' >> /etc/fstab
   ```

3. **–û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**
   - Supabase Studio (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ –æ–±–ª–∞–∫–µ)
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä UptimeRobot)

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–∏–º–∏—Ç—ã Node.js**
   ```bash
   # –í Dockerfile.prod
   ENV NODE_OPTIONS="--max-old-space-size=512"
   ```

---

## üìà –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ?

### –ü—Ä–∏–∑–Ω–∞–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∞–ø–≥—Ä–µ–π–¥–∞:

**1. –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ >70% CPU**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ htop –∏–ª–∏:
docker stats
```

**2. RAM >85% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ**
```bash
free -h
```

**3. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏**
```bash
# –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è:
# "JavaScript heap out of memory"
```

**4. –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü >3 —Å–µ–∫—É–Ω–¥—ã
- AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ >2 –º–∏–Ω—É—Ç –Ω–∞ –∑–≤–æ–Ω–æ–∫

---

## üí° –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –î–ª—è –≤–∞—à–µ–π CRM (–∫–ª–∏–Ω–∏–Ω–≥–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è):

**–°—Ç–∞—Ä—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```
‚úÖ 2 —è–¥—Ä–∞ CPU
‚úÖ 2 –ì–ë RAM
‚úÖ 30 –ì–ë NVMe
üí∞ 660‚ÇΩ/–º–µ—Å

+ –û–±–ª–∞—á–Ω—ã–π Supabase (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
+ Let's Encrypt SSL (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
+ Beget (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
```

**–ß–µ—Ä–µ–∑ 6-12 –º–µ—Å—è—Ü–µ–≤ –ø—Ä–∏ —Ä–æ—Å—Ç–µ:**
```
‚¨ÜÔ∏è 4 —è–¥—Ä–∞ CPU
‚¨ÜÔ∏è 6 –ì–ë RAM
‚¨ÜÔ∏è 80 –ì–ë NVMe
üí∞ 1650‚ÇΩ/–º–µ—Å
```

**–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –ø–µ—Ä–≤—ã–π –≥–æ–¥:**
- VPS: 7920‚ÇΩ
- –î–æ–º–µ–Ω: ~1000‚ÇΩ
- Novofon: ~3000‚ÇΩ/–º–µ—Å √ó 12 = 36000‚ÇΩ
- OpenRouter AI: ~1000‚ÇΩ/–º–µ—Å √ó 12 = 12000‚ÇΩ
- **–ò–¢–û–ì–û: ~57000‚ÇΩ/–≥–æ–¥** (~4750‚ÇΩ/–º–µ—Å)

–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: –≥–æ—Ç–æ–≤–∞—è CRM —Å—Ç–æ–∏—Ç –æ—Ç 10000‚ÇΩ/–º–µ—Å = 120000‚ÇΩ/–≥–æ–¥
**–≠–∫–æ–Ω–æ–º–∏—è: 63000‚ÇΩ/–≥–æ–¥** ‚úÖ
